<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Reason 6 Powerful data wrangling tools | Ten Reasons to Learn R</title>
  <meta name="description" content="A short introduction to Contemporary R." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Reason 6 Powerful data wrangling tools | Ten Reasons to Learn R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A short introduction to Contemporary R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Reason 6 Powerful data wrangling tools | Ten Reasons to Learn R" />
  
  <meta name="twitter:description" content="A short introduction to Contemporary R." />
  

<meta name="author" content="Tobias Busch" />


<meta name="date" content="2021-07-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-is-expandable.html"/>
<link rel="next" href="powerful-data-visualisation-tools.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">10 Reasons To Learn R</a></li>

<li class="divider"></li>
<li class="part"><span><b>Introduction</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i>Who is this book for?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-origins-of-this-book"><i class="fa fa-check"></i>The origins of this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="what-is-r.html"><a href="what-is-r.html"><i class="fa fa-check"></i>What is R?</a></li>
<li><a href="why-you-should-not-learn-r.html#why-you-should-not-learn-r">Why you should <em>not</em> learn R</a><ul>
<li class="chapter" data-level="" data-path="why-you-should-not-learn-r.html"><a href="why-you-should-not-learn-r.html"><i class="fa fa-check"></i>Learning R is a considerable time investment</a></li>
<li class="chapter" data-level="" data-path="why-you-should-not-learn-r.html"><a href="why-you-should-not-learn-r.html#free-point-and-click-alternatives"><i class="fa fa-check"></i>Free point and click alternatives</a></li>
<li class="chapter" data-level="" data-path="why-you-should-not-learn-r.html"><a href="why-you-should-not-learn-r.html#commercial-software"><i class="fa fa-check"></i>Commercial software</a></li>
<li class="chapter" data-level="" data-path="why-you-should-not-learn-r.html"><a href="why-you-should-not-learn-r.html#other-programming-languages"><i class="fa fa-check"></i>Other programming languages</a></li>
</ul></li>
<li class="part"><span><b>Ten Reasons to Learn R</b></span></li>
<li class="chapter" data-level="" data-path="about-this-section.html"><a href="about-this-section.html"><i class="fa fa-check"></i>About this section</a><ul>
<li class="chapter" data-level="" data-path="about-this-section.html"><a href="about-this-section.html#conventions"><i class="fa fa-check"></i>Conventions</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="r-is-free-and-open-source.html"><a href="r-is-free-and-open-source.html"><i class="fa fa-check"></i><b>1</b> R is free and open source</a></li>
<li class="chapter" data-level="2" data-path="its-easy-to-get-started.html"><a href="its-easy-to-get-started.html"><i class="fa fa-check"></i><b>2</b> It’s easy to get started</a><ul>
<li class="chapter" data-level="2.1" data-path="its-easy-to-get-started.html"><a href="its-easy-to-get-started.html#why-rstudio"><i class="fa fa-check"></i><b>2.1</b> Why RStudio?</a></li>
<li class="chapter" data-level="2.2" data-path="its-easy-to-get-started.html"><a href="its-easy-to-get-started.html#create-a-new-rstudio-project"><i class="fa fa-check"></i><b>2.2</b> Create a new RStudio project</a><ul>
<li class="chapter" data-level="2.2.1" data-path="its-easy-to-get-started.html"><a href="its-easy-to-get-started.html#operators"><i class="fa fa-check"></i><b>2.2.1</b> Operators</a></li>
<li class="chapter" data-level="2.2.2" data-path="its-easy-to-get-started.html"><a href="its-easy-to-get-started.html#create-a-script"><i class="fa fa-check"></i><b>2.2.2</b> Create a script</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="a-flexible-programming-language.html"><a href="a-flexible-programming-language.html"><i class="fa fa-check"></i><b>3</b> A flexible programming language</a><ul>
<li class="chapter" data-level="3.1" data-path="a-flexible-programming-language.html"><a href="a-flexible-programming-language.html#data-types"><i class="fa fa-check"></i><b>3.1</b> Data Types</a></li>
<li class="chapter" data-level="3.2" data-path="a-flexible-programming-language.html"><a href="a-flexible-programming-language.html#assignment"><i class="fa fa-check"></i><b>3.2</b> Assignment</a></li>
<li class="chapter" data-level="3.3" data-path="a-flexible-programming-language.html"><a href="a-flexible-programming-language.html#comments"><i class="fa fa-check"></i><b>3.3</b> Comments</a></li>
<li class="chapter" data-level="3.4" data-path="a-flexible-programming-language.html"><a href="a-flexible-programming-language.html#vectors"><i class="fa fa-check"></i><b>3.4</b> Vectors</a></li>
<li class="chapter" data-level="3.5" data-path="a-flexible-programming-language.html"><a href="a-flexible-programming-language.html#data-frames"><i class="fa fa-check"></i><b>3.5</b> Data Frames</a></li>
<li class="chapter" data-level="3.6" data-path="a-flexible-programming-language.html"><a href="a-flexible-programming-language.html#other-data-structures"><i class="fa fa-check"></i><b>3.6</b> Other Data Structures</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-has-great-documentation.html"><a href="r-has-great-documentation.html"><i class="fa fa-check"></i><b>4</b> R has great documentation</a><ul>
<li class="chapter" data-level="4.1" data-path="r-has-great-documentation.html"><a href="r-has-great-documentation.html#accessing-function-documentation"><i class="fa fa-check"></i><b>4.1</b> Accessing function documentation</a></li>
<li class="chapter" data-level="4.2" data-path="r-has-great-documentation.html"><a href="r-has-great-documentation.html#auto-completion"><i class="fa fa-check"></i><b>4.2</b> Auto-completion</a></li>
<li class="chapter" data-level="4.3" data-path="r-has-great-documentation.html"><a href="r-has-great-documentation.html#cheat-sheets"><i class="fa fa-check"></i><b>4.3</b> Cheat sheets</a></li>
<li class="chapter" data-level="4.4" data-path="r-has-great-documentation.html"><a href="r-has-great-documentation.html#finding-help-online"><i class="fa fa-check"></i><b>4.4</b> Finding help online</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-is-expandable.html"><a href="r-is-expandable.html"><i class="fa fa-check"></i><b>5</b> R is expandable</a><ul>
<li class="chapter" data-level="5.1" data-path="r-is-expandable.html"><a href="r-is-expandable.html#introducing-the-tidyverse"><i class="fa fa-check"></i><b>5.1</b> Introducing the Tidyverse</a></li>
<li class="chapter" data-level="5.2" data-path="r-is-expandable.html"><a href="r-is-expandable.html#installing-packages"><i class="fa fa-check"></i><b>5.2</b> Installing packages</a></li>
<li class="chapter" data-level="5.3" data-path="r-is-expandable.html"><a href="r-is-expandable.html#loading-data"><i class="fa fa-check"></i><b>5.3</b> Loading data</a></li>
<li class="chapter" data-level="5.4" data-path="r-is-expandable.html"><a href="r-is-expandable.html#inspecting-the-data"><i class="fa fa-check"></i><b>5.4</b> Inspecting the data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="powerful-data-wrangling-tools.html"><a href="powerful-data-wrangling-tools.html"><i class="fa fa-check"></i><b>6</b> Powerful data wrangling tools</a><ul>
<li class="chapter" data-level="6.1" data-path="powerful-data-wrangling-tools.html"><a href="powerful-data-wrangling-tools.html#filtering-and-counting-rows"><i class="fa fa-check"></i><b>6.1</b> Filtering and counting rows</a></li>
<li class="chapter" data-level="6.2" data-path="powerful-data-wrangling-tools.html"><a href="powerful-data-wrangling-tools.html#the-pipe-operator"><i class="fa fa-check"></i><b>6.2</b> The pipe operator %&gt;%</a></li>
<li class="chapter" data-level="6.3" data-path="powerful-data-wrangling-tools.html"><a href="powerful-data-wrangling-tools.html#create-new-columns-with-mutate"><i class="fa fa-check"></i><b>6.3</b> Create new columns with <code>mutate()</code></a></li>
<li class="chapter" data-level="6.4" data-path="powerful-data-wrangling-tools.html"><a href="powerful-data-wrangling-tools.html#split-apply-combine-with-group_by-and-summarize"><i class="fa fa-check"></i><b>6.4</b> Split-apply-combine with <code>group_by()</code> and <code>summarize()</code></a></li>
<li class="chapter" data-level="6.5" data-path="powerful-data-wrangling-tools.html"><a href="powerful-data-wrangling-tools.html#other-useful-data-wrangling-functions"><i class="fa fa-check"></i><b>6.5</b> Other useful data wrangling functions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="powerful-data-visualisation-tools.html"><a href="powerful-data-visualisation-tools.html"><i class="fa fa-check"></i><b>7</b> Powerful data visualisation tools</a><ul>
<li class="chapter" data-level="7.1" data-path="powerful-data-visualisation-tools.html"><a href="powerful-data-visualisation-tools.html#hands-on.-data-visualization"><i class="fa fa-check"></i><b>7.1</b> <strong>Hands-on.</strong> Data Visualization</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="powerful-statistical-methods-at-your-fingertips.html"><a href="powerful-statistical-methods-at-your-fingertips.html"><i class="fa fa-check"></i><b>8</b> Powerful statistical methods at your fingertips</a><ul>
<li class="chapter" data-level="8.1" data-path="powerful-statistical-methods-at-your-fingertips.html"><a href="powerful-statistical-methods-at-your-fingertips.html#hands-on.-statistical-modeling"><i class="fa fa-check"></i><b>8.1</b> <strong>Hands-on.</strong> Statistical Modeling</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html"><i class="fa fa-check"></i><b>9</b> R encourages reproducible research</a><ul>
<li class="chapter" data-level="9.1" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#make-self-contained-projects"><i class="fa fa-check"></i><b>9.1</b> Make Self-contained Projects</a></li>
<li class="chapter" data-level="9.2" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#snapshot-your-development-environment"><i class="fa fa-check"></i><b>9.2</b> Snapshot your development environment</a></li>
<li class="chapter" data-level="9.3" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#use-version-control"><i class="fa fa-check"></i><b>9.3</b> Use Version control</a></li>
<li class="chapter" data-level="9.4" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#make-reports-reproducible"><i class="fa fa-check"></i><b>9.4</b> Make reports reproducible</a></li>
<li class="chapter" data-level="9.5" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#no-more-copy-and-paste"><i class="fa fa-check"></i><b>9.5</b> No more copy and paste!</a></li>
<li class="chapter" data-level="9.6" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#more"><i class="fa fa-check"></i><b>9.6</b> More</a></li>
<li class="chapter" data-level="9.7" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#hands-on.-make-your-research-reproducible"><i class="fa fa-check"></i><b>9.7</b> <strong>Hands-on.</strong> Make your Research Reproducible</a><ul>
<li class="chapter" data-level="9.7.1" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#use-renv-to-store-a-snapshot-of-your-package-library"><i class="fa fa-check"></i><b>9.7.1</b> Use {renv} to store a snapshot of your package library</a></li>
<li class="chapter" data-level="9.7.2" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#take-a-snapshot-of-your-code-with-git"><i class="fa fa-check"></i><b>9.7.2</b> Take a snapshot of your code with Git</a></li>
<li class="chapter" data-level="9.7.3" data-path="r-encourages-reproducible-research.html"><a href="r-encourages-reproducible-research.html#make-a-reproducible-report-with-rmarkdown"><i class="fa fa-check"></i><b>9.7.3</b> Make a reproducible report with RMarkdown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="the-r-community-is-awesome.html"><a href="the-r-community-is-awesome.html"><i class="fa fa-check"></i><b>10</b> The R community is awesome!</a><ul>
<li class="chapter" data-level="10.1" data-path="the-r-community-is-awesome.html"><a href="the-r-community-is-awesome.html#engage-with-the-community"><i class="fa fa-check"></i><b>10.1</b> Engage with the Community</a></li>
<li class="chapter" data-level="10.2" data-path="the-r-community-is-awesome.html"><a href="the-r-community-is-awesome.html#great-free-learning-material"><i class="fa fa-check"></i><b>10.2</b> Great free learning material</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with R and bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ten Reasons to Learn R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="powerful-data-wrangling-tools" class="section level1">
<h1><span class="header-section-number">Reason 6</span> Powerful data wrangling tools</h1>
<div class="goals">
<ul>
<li>…</li>
<li>…</li>
</ul>
</div>
<p>R can connect to all sorts of data sources (<a href="https://db.rstudio.com/getting-started/connect-to-database/">Databases</a>, <a href="https://haven.tidyverse.org/">SPSS, Stata, SAS</a>, <a href="https://httr.r-lib.org/">APIs</a>, <a href="https://rvest.tidyverse.org/">websites</a>, …), and process many different types of data (tabular data, EEG, fMRI, eye tracking, Geodata, taxonomical data, p;honetic transcriptions…). The <code>{rio}</code> package tries to provide a unified interface for all many of them.</p>
<p>The <a href="https://www.tidyverse.org/">Tidyverse</a> offers many convenience functions for common data manipulation tasks like splitting and merging columns, renaming, counting, sorting, and much more. At its core, are a handful of workhorse functions from the <code>{dplyr}</code> package for manipulating data frames:</p>
<ul>
<li><code>filter()</code> – select rows (observations)</li>
<li><code>select()</code> – select variables (columns)</li>
<li><code>mutate()</code> – create new variables (columns) or change existing ones</li>
<li><code>summarize()</code> – aggregate rows, e.g, to calculate a column’s mean</li>
<li><code>group_by()</code> – split the data frame</li>
<li><code>pivot_wider()</code> and <code>pivot_longer()</code> – reshape the data</li>
</ul>
<div id="filtering-and-counting-rows" class="section level2">
<h2><span class="header-section-number">6.1</span> Filtering and counting rows</h2>
<p>Let’s do a simple data wrangling task using functions from the Tidyverse:</p>
<ol style="list-style-type: decimal">
<li>Find all peaks that are higher than 7,000 meters and were climbed before 1980<br />
</li>
<li>Count which countries the climbers came from</li>
</ol>
<p>We can use the <code>filter()</code> function to select only the rows (observations) we want. Then we can use the <code>count()</code> function to count how many rows there are for each kind of <code>first_ascent_country</code>:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="powerful-data-wrangling-tools.html#cb52-1"></a>before80_7k &lt;-<span class="st"> </span><span class="kw">filter</span>(peaks, first_ascent_year <span class="op">&lt;</span><span class="st"> </span><span class="dv">1980</span>, height_metres <span class="op">&gt;</span><span class="st"> </span><span class="dv">7000</span>)</span>
<span id="cb52-2"><a href="powerful-data-wrangling-tools.html#cb52-2"></a><span class="kw">count</span>(before80_7k, first_ascent_country)</span></code></pre></div>
<pre><code># A tibble: 28 x 2
   first_ascent_country     n
   &lt;chr&gt;                &lt;int&gt;
 1 Austria                  2
 2 Austria, Nepal           1
 3 Austria, USA, Nepal      1
 4 Austria, W Germany       1
 5 France                   3
 6 France, Nepal            1
 7 Germany, Austria         1
 8 Germany, Nepal           1
 9 India                    1
10 Japan                    7
# … with 18 more rows</code></pre>
</div>
<div id="the-pipe-operator" class="section level2">
<h2><span class="header-section-number">6.2</span> The pipe operator %&gt;%</h2>
<p>Above, we stored the result of the first function in an intermediate variables and then gave it to the second. There’s another way to chain functions that is often more convenient and readable: Use the <strong>pipe operator <code>%&gt;%</code></strong> to pass data from one function to the next.</p>
<p>You can read <code>%&gt;%</code> as <em>“…and then…”</em>. Use the keyboard shortcut <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>M</kbd> to make it.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="powerful-data-wrangling-tools.html#cb54-1"></a>peaks <span class="op">%&gt;%</span></span>
<span id="cb54-2"><a href="powerful-data-wrangling-tools.html#cb54-2"></a><span class="st">  </span><span class="kw">filter</span>(first_ascent_year <span class="op">&lt;</span><span class="st"> </span><span class="dv">1980</span>, height_metres <span class="op">&gt;</span><span class="st"> </span><span class="dv">7000</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-3"><a href="powerful-data-wrangling-tools.html#cb54-3"></a><span class="st">  </span><span class="kw">count</span>(first_ascent_country, <span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-4"><a href="powerful-data-wrangling-tools.html#cb54-4"></a><span class="st">  </span><span class="kw">filter</span>(n <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>) </span></code></pre></div>
<pre><code># A tibble: 4 x 2
  first_ascent_country     n
  &lt;chr&gt;                &lt;int&gt;
1 Japan, Nepal            14
2 Japan                    7
3 Poland                   4
4 UK, Nepal                4</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="powerful-data-wrangling-tools.html#cb56-1"></a>  <span class="co"># ... the pipe can continue. Here, we filter all peaks that </span></span>
<span id="cb56-2"><a href="powerful-data-wrangling-tools.html#cb56-2"></a>  <span class="co"># were climbed more than 3 times</span></span></code></pre></div>
<p>Did you notice that the first argument of all functions (the data frame you want to operate on) has disappeared? The pipe operator fills that one in automatically.</p>
<p><img src="https://i.imgur.com/bIyqtxz.jpg" alt="An image of the character Data from the TV show Star Trek TNG, smoking a pipe" />
<em>Indubitably, sir!</em></p>
</div>
<div id="create-new-columns-with-mutate" class="section level2">
<h2><span class="header-section-number">6.3</span> Create new columns with <code>mutate()</code></h2>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="powerful-data-wrangling-tools.html#cb57-1"></a>peaks <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-2"><a href="powerful-data-wrangling-tools.html#cb57-2"></a><span class="st">  </span><span class="kw">select</span>(peak_name, climbing_status, first_ascent_year, first_ascent_country) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-3"><a href="powerful-data-wrangling-tools.html#cb57-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">climbed_before80 =</span> first_ascent_year <span class="op">&lt;</span><span class="st"> </span><span class="dv">1980</span>)</span></code></pre></div>
<pre><code># A tibble: 468 x 5
   peak_name  climbing_status first_ascent_ye… first_ascent_co… climbed_before80
   &lt;chr&gt;      &lt;chr&gt;                      &lt;dbl&gt; &lt;chr&gt;            &lt;lgl&gt;           
 1 Ama Dablam Climbed                     1961 New Zealand, US… TRUE            
 2 Amphu Gya… Climbed                     1953 UK               TRUE            
 3 Annapurna… Climbed                     1950 France           TRUE            
 4 Annapurna… Climbed                     1960 UK, Nepal        TRUE            
 5 Annapurna… Climbed                     1961 India            TRUE            
 6 Annapurna… Climbed                     1955 W Germany        TRUE            
 7 Annapurna… Climbed                     1974 Spain            TRUE            
 8 Annapurna… Climbed                     1980 W Germany        FALSE           
 9 Annapurna… Climbed                     1964 Japan, Nepal     TRUE            
10 Api Main   Climbed                     1960 Japan, Nepal     TRUE            
# … with 458 more rows</code></pre>
</div>
<div id="split-apply-combine-with-group_by-and-summarize" class="section level2">
<h2><span class="header-section-number">6.4</span> Split-apply-combine with <code>group_by()</code> and <code>summarize()</code></h2>
<p>Use <code>group_by()</code> and <code>summarize()</code> together for powerful <em>split-apply-combine</em> operations:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="powerful-data-wrangling-tools.html#cb59-1"></a>peaks <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb59-2"><a href="powerful-data-wrangling-tools.html#cb59-2"></a><span class="st">  </span><span class="kw">filter</span>(first_ascent_year <span class="op">&gt;</span><span class="st"> </span><span class="dv">201</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb59-3"><a href="powerful-data-wrangling-tools.html#cb59-3"></a><span class="st">  </span><span class="kw">group_by</span>(first_ascent_country) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb59-4"><a href="powerful-data-wrangling-tools.html#cb59-4"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">min_ascent =</span> <span class="kw">min</span>(first_ascent_year, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb59-5"><a href="powerful-data-wrangling-tools.html#cb59-5"></a><span class="st">  </span><span class="kw">arrange</span>(min_ascent)</span></code></pre></div>
<pre><code># A tibble: 77 x 2
   first_ascent_country min_ascent
   &lt;chr&gt;                     &lt;dbl&gt;
 1 UK                         1909
 2 Austria                    1930
 3 Austria, UK                1930
 4 Germany, Austria           1930
 5 Germany, Nepal             1930
 6 Switzerland, Germany       1939
 7 Switzerland                1949
 8 Switzerland, Nepal         1949
 9 UK, Nepal                  1949
10 France                     1950
# … with 67 more rows</code></pre>
<div class="info">
<p><strong>Dealing with missing values.</strong></p>
<p>In R, there is a special <em>value</em> for missing data, <code>NA</code>. This is <em>not</em> a data type. That is, a value can be, e.g., numeric <em>and</em> missing (<code>NA</code>) at the same time, and a numeric vector can contain a mix of numbers and <code>NA</code>.</p>
</div>
</div>
<div id="other-useful-data-wrangling-functions" class="section level2">
<h2><span class="header-section-number">6.5</span> Other useful data wrangling functions</h2>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="powerful-data-wrangling-tools.html#cb61-1"></a><span class="co"># ...</span></span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-is-expandable.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="powerful-data-visualisation-tools.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r-intro.pdf", "r-intro.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
